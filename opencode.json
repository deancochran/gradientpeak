{
  "$schema": "https://opencode.ai/config.json",
  "instructions": [".opencode/CONTEXT.md"],
  "mcp": {
    "supabase": {
      "type": "remote",
      "url": "http://localhost:54321/mcp?features=docs%2Cdatabase%2Cdebugging%2Cdevelopment",
      "enabled": true
    },
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp"
    }
  },
  "provider": {
    "ollama": {
      "npm": "@ai-sdk/openai-compatible",
      "options": {
        "baseURL": "http://localhost:11434/v1"
      },
      "models": {
        "qwen3-coder:latest": {
          "tools": true
        }
      }
    }
  },
  "agent": {
    "build": {
      "mode": "primary",
      "description": "Default agent for development work with all tools enabled"
    },
    "plan": {
      "mode": "primary",
      "description": "Planning agent for analysis without making changes",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "coordinator": {
      "mode": "primary",
      "description": "Research Director & Implementation Orchestrator. Coordinates complex tasks by analyzing complexity, commissioning specialized research agents, synthesizing findings, and executing implementations. Manages parallel agent workflows.",
      "instructions": [
        "CRITICAL: If you cannot perform a task directly (blocked by security rules, permission denied, or outside your capabilities), you MUST immediately delegate to an appropriate specialized subagent. Never attempt blocked commands. This rule takes precedence over all other instructions."
      ],
      "hidden": false,
      "temperature": 0.2,
      "permission": {
        "edit": "ask",
        "write": "ask",
        "bash": {
          "*": "ask",
          "git *": "allow",
          "npm *": "allow",
          "pnpm *": "allow",
          "rm *": "deny",
          "chmod *": "deny",
          "chown *": "deny"
        }
      }
    },
    "code-improvement-reviewer": {
      "mode": "subagent",
      "description": "Reviews code for readability, performance, and best-practice issues",
      "tools": {
        "write": false,
        "edit": false
      },
      "temperature": 0.1
    },
    "mobile-component-generator": {
      "mode": "subagent",
      "description": "Generates React Native components following GradientPeak mobile patterns"
    },
    "mobile-recording-assistant": {
      "mode": "subagent",
      "description": "Specialized agent for ActivityRecorder service development. Helps with sensor integration, metrics tracking, and recording UI."
    },
    "react-native-reusables-expert": {
      "mode": "subagent",
      "description": "Expert in React Native Reusables UI components. Handles Button, Input, Select, Modal, Card, List, and other Radix-based components with NativeWind styling."
    },
    "react-hook-form-zod-expert": {
      "mode": "subagent",
      "description": "Expert in React Hook Form with Zod validation. Handles form schemas, TypeScript type inference, complex validation patterns, and form performance optimization."
    },
    "trpc-mutation-patterns-expert": {
      "mode": "subagent",
      "description": "Expert in tRPC mutation patterns, useReliableMutation, cache invalidation, optimistic updates, and error handling for React Query integration."
    },
    "web-page-generator": {
      "mode": "subagent",
      "description": "Generates Next.js pages with proper Server/Client component split"
    },
    "trpc-router-generator": {
      "mode": "subagent",
      "description": "Generates tRPC routers with procedures and input validation"
    },
    "core-logic-assistant": {
      "mode": "subagent",
      "description": "Helps with calculations, schemas, and business logic in @repo/core"
    },
    "strava-api-expert": {
      "mode": "subagent",
      "description": "Expert in Strava API integration for activity data, athlete profiles, and webhook handling. Handles OAuth flows, activity sync, and Strava-specific data mapping."
    },
    "database-migration-assistant": {
      "mode": "subagent",
      "description": "Generates and manages Supabase database schema migrations"
    },
    "performance-optimizer": {
      "mode": "subagent",
      "description": "Analyzes and optimizes slow components and queries"
    },
    "accessibility-auditor": {
      "mode": "subagent",
      "description": "Reviews components for WCAG compliance and screen reader support",
      "tools": {
        "write": false,
        "edit": false
      }
    },
    "architecture-research-expert": {
      "mode": "subagent",
      "description": "Research expert for system design and component placement decisions",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "technology-research-expert": {
      "mode": "subagent",
      "description": "Research expert for library selection, API analysis, and feasibility studies",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "quality-assurance-advisor": {
      "mode": "subagent",
      "description": "Research advisor for testing strategies, coverage requirements, and quality standards",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "integration-analyst": {
      "mode": "subagent",
      "description": "Research analyst for third-party APIs, OAuth flows, and data synchronization",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "performance-specialist": {
      "mode": "subagent",
      "description": "Research specialist for performance bottlenecks and optimization strategies",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "documentation-strategist": {
      "mode": "subagent",
      "description": "Research strategist for documentation planning and JSDoc specifications",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "agent-creator": {
      "mode": "subagent",
      "description": "Creates new specialized agents for any domain. Generates agent files with documentation, references, and patterns.",
      "temperature": 0.3
    },
    "garmin-fit-sdk-expert": {
      "mode": "subagent",
      "description": "Expert in Garmin FIT SDK for JavaScript. Handles FIT file encoding, decoding, developer data fields, custom profiles with FitGen, and data mapping to activity schemas.",
      "temperature": 0.3
    },
    "skill-creator-agent": {
      "mode": "subagent",
      "description": "Agent for pattern extraction and skill file generation",
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    }
  },
  "permission": {
    "skill": {
      "*": "allow"
    }
  }
}
